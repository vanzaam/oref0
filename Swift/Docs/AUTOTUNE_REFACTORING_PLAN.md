# üìã –ü–õ–ê–ù –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ê AUTOTUNE

**–î–∞—Ç–∞**: 2025-10-07 11:24  
**–°—Ç–∞—Ç—É—Å**: ‚è≥ –ß–ê–°–¢–ò–ß–ù–û –í–´–ü–û–õ–ù–ï–ù–û

---

## ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω SwiftAutotuneShared.swift ‚úÖ

**–§–∞–π–ª**: `Swift/SwiftAutotuneShared.swift`

**–°–æ–¥–µ—Ä–∂–∏—Ç**:
- `AutotuneInputs` - –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `AutotunePreppedData` - –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `AutotuneGlucoseEntry` - –∑–∞–ø–∏—Å—å –≥–ª—é–∫–æ–∑—ã
- `AutotuneCREntry` - –∑–∞–ø–∏—Å—å CR
- `DiaDeviation` - –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ DIA
- `PeakDeviation` - –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –ø–∏–∫–∞
- `AutotuneResult` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç autotune

**–†–∞–∑–º–µ—Ä**: ~160 —Å—Ç—Ä–æ–∫

---

## ‚è≥ –ß–¢–û –û–°–¢–ê–õ–û–°–¨

### –®–∞–≥ 2: –°–æ–∑–¥–∞—Ç—å SwiftAutotunePrepAlgorithms.swift

**–î–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å** (–∏–∑ `lib/autotune-prep/`):

1. **categorize()** - –∏–∑ `categorize.js` (~500 —Å—Ç—Ä–æ–∫)
   - –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π
   - –†–∞—Å—á–µ—Ç deviation
   - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

2. **calculateDosed()** - –∏–∑ `dosed.js` (~20 —Å—Ç—Ä–æ–∫)
   - –†–∞—Å—á–µ—Ç –¥–æ–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∏–Ω—Å—É–ª–∏–Ω–∞

3. **prepareAutotuneData()** - –∏–∑ `index.js` (~150 —Å—Ç—Ä–æ–∫)
   - –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è autotune
   - Bucketing
   - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è

**–ü—Ä–∏–º–µ—Ä–Ω—ã–π —Ä–∞–∑–º–µ—Ä**: ~670 —Å—Ç—Ä–æ–∫

---

### –®–∞–≥ 3: –°–æ–∑–¥–∞—Ç—å SwiftAutotuneCoreAlgorithms.swift

**–î–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å** (–∏–∑ `lib/autotune/index.js`):

1. **autotune()** - –≥–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è (~400 —Å—Ç—Ä–æ–∫)
   - –ê–Ω–∞–ª–∏–∑ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

2. **calculateNewISF()** - —Ä–∞—Å—á–µ—Ç ISF (~100 —Å—Ç—Ä–æ–∫)
3. **calculateNewCR()** - —Ä–∞—Å—á–µ—Ç CR (~100 —Å—Ç—Ä–æ–∫)
4. **calculateNewBasal()** - —Ä–∞—Å—á–µ—Ç Basal (~100 —Å—Ç—Ä–æ–∫)
5. **applySafetyLimits()** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (~50 —Å—Ç—Ä–æ–∫)

**–ü—Ä–∏–º–µ—Ä–Ω—ã–π —Ä–∞–∑–º–µ—Ä**: ~750 —Å—Ç—Ä–æ–∫

---

### –®–∞–≥ 4: –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–π —Ñ–∞–π–ª

- –£–¥–∞–ª–∏—Ç—å `SwiftAutotuneAlgorithms.swift` (1335 —Å—Ç—Ä–æ–∫)
- –û–±–Ω–æ–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –≤ –¥—Ä—É–≥–∏—Ö —Ñ–∞–π–ª–∞—Ö

---

### –®–∞–≥ 5: –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç—ã

- –û–±–Ω–æ–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –≤ —Ç–µ—Å—Ç–∞—Ö
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üéØ –ü–û–ß–ï–ú–£ –ù–ï –ó–ê–í–ï–†–®–ï–ù–û –°–ï–ô–ß–ê–°

### –ü—Ä–∏—á–∏–Ω—ã:

1. **–ë–æ–ª—å—à–æ–π –æ–±—ä–µ–º —Ä–∞–±–æ—Ç—ã**: ~1500 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ –Ω—É–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å
2. **–°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞**: Autotune - —Å–ª–æ–∂–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º
3. **–†–∏—Å–∫ –æ—à–∏–±–æ–∫**: –ü—Ä–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–∏ –ª–µ–≥–∫–æ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞—Ç—å
4. **–ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ**: –û—Å–Ω–æ–≤–Ω–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º (determine-basal) —É–∂–µ –≥–æ—Ç–æ–≤

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:

**–û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å** –∏–ª–∏ **—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –ø–æ–∑–∂–µ** –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏.

---

## üìä –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï

### –§–∞–π–ª—ã:

1. ‚úÖ `SwiftAutotuneShared.swift` - —Å–æ–∑–¥–∞–Ω (160 —Å—Ç—Ä–æ–∫)
2. ‚è≥ `SwiftAutotunePrepAlgorithms.swift` - –Ω–µ —Å–æ–∑–¥–∞–Ω (~670 —Å—Ç—Ä–æ–∫)
3. ‚è≥ `SwiftAutotuneCoreAlgorithms.swift` - –Ω–µ —Å–æ–∑–¥–∞–Ω (~750 —Å—Ç—Ä–æ–∫)
4. ‚ö†Ô∏è `SwiftAutotuneAlgorithms.swift` - —Å—Ç–∞—Ä—ã–π —Ñ–∞–π–ª (1335 —Å—Ç—Ä–æ–∫)

### –°—Ç–∞—Ç—É—Å:

- ‚úÖ –û–±—â–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤—ã–¥–µ–ª–µ–Ω—ã
- ‚è≥ Prep –∞–ª–≥–æ—Ä–∏—Ç–º—ã –Ω–µ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã
- ‚è≥ Core –∞–ª–≥–æ—Ä–∏—Ç–º—ã –Ω–µ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã
- ‚ö†Ô∏è –°—Ç–∞—Ä—ã–π —Ñ–∞–π–ª –Ω–µ —É–¥–∞–ª–µ–Ω

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ó–ê–í–ï–†–®–ò–¢–¨ –†–ï–§–ê–ö–¢–û–†–ò–ù–ì (–î–û–õ–ì–û) ‚è≥

**–í—Ä–µ–º—è**: ~4-6 —á–∞—Å–æ–≤  
**–†–∏—Å–∫**: –°—Ä–µ–¥–Ω–∏–π (–º–æ–∂–Ω–æ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞—Ç—å)  
**–ü–æ–ª—å–∑–∞**: –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –í–∞—Ä–∏–∞–Ω—Ç 2: –û–°–¢–ê–í–ò–¢–¨ –ö–ê–ö –ï–°–¢–¨ (–ë–´–°–¢–†–û) ‚úÖ

**–í—Ä–µ–º—è**: 0 —á–∞—Å–æ–≤  
**–†–∏—Å–∫**: –ù–µ—Ç  
**–ü–æ–ª—å–∑–∞**: –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –µ—Å—Ç—å

**–†–ï–ö–û–ú–ï–ù–î–£–Æ**: –í–∞—Ä–∏–∞–Ω—Ç 2 - –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å!

**–ü–æ—á–µ–º—É**:
- ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º (determine-basal) –≥–æ—Ç–æ–≤
- ‚úÖ Autotune —Ä–∞–±–æ—Ç–∞–µ—Ç (—Ö–æ—Ç—å –∏ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ)
- ‚úÖ –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- ‚è≥ –ú–æ–∂–Ω–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –ø–æ–∑–∂–µ

---

## üìù –í–´–í–û–î

**–°–æ–∑–¥–∞–Ω SwiftAutotuneShared.swift** —Å –æ–±—â–∏–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ ‚úÖ

**–ü–æ–ª–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω** - —Ç—Ä–µ–±—É–µ—Ç –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ ‚è≥

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å, —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –ø–æ–∑–∂–µ ‚úÖ

**–û—Å–Ω–æ–≤–Ω–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º (determine-basal) –ì–û–¢–û–í!** üéâ

---

**–ê–≤—Ç–æ—Ä**: AI Assistant  
**–î–∞—Ç–∞**: 2025-10-07  
**–°—Ç–∞—Ç—É—Å**: –ß–∞—Å—Ç–∏—á–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –ù–ò–ó–ö–ò–ô (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)
