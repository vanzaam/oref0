# üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê –ê–†–•–ò–¢–ï–ö–¢–£–†–´ AUTOTUNE!

**–î–∞—Ç–∞**: 2025-10-07 11:21  
**–°—Ç–∞—Ç—É—Å**: üî¥ –ö–†–ò–¢–ò–ß–ù–û - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞!

---

## üî¥ –ü–†–û–ë–õ–ï–ú–ê

### –í –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º oref0:

**–î–í–ê –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–æ–¥—É–ª—è**:

1. **autotune-prep** (`lib/autotune-prep/`):
   - `index.js` (6656 bytes) - –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏
   - `categorize.js` (20720 bytes) - –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
   - `dosed.js` (692 bytes) - —Ä–∞—Å—á–µ—Ç –¥–æ–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∏–Ω—Å—É–ª–∏–Ω–∞

2. **autotune** (`lib/autotune/`):
   - `index.js` (26165 bytes) - –∞–ª–≥–æ—Ä–∏—Ç–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**–ò–¢–û–ì–û**: 4 —Ñ–∞–π–ª–∞, ~54 KB –∫–æ–¥–∞

---

### –í Swift –ø–æ—Ä—Ç–∞—Ü–∏–∏:

**–û–î–ò–ù —Ñ–∞–π–ª**:
- `SwiftAutotuneAlgorithms.swift` (54221 bytes)

**–ü—Ä–æ–±–ª–µ–º–∞**:
- ‚ùå –û–±—ä–µ–¥–∏–Ω–µ–Ω—ã –î–í–ê —Ä–∞–∑–Ω—ã—Ö –º–æ–¥—É–ª—è –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª!
- ‚ùå –ù–∞—Ä—É—à–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞!
- ‚ùå –°–ª–æ–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∏ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å!
- ‚ùå –ù–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–µ oref0!

---

## üìä –°–†–ê–í–ù–ï–ù–ò–ï –ê–†–•–ò–¢–ï–ö–¢–£–†–´

### –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π oref0:

```
lib/
‚îú‚îÄ‚îÄ autotune-prep/
‚îÇ   ‚îú‚îÄ‚îÄ index.js          (6656 bytes)  - –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ categorize.js     (20720 bytes) - –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ dosed.js          (692 bytes)   - –†–∞—Å—á–µ—Ç –¥–æ–∑—ã
‚îî‚îÄ‚îÄ autotune/
    ‚îî‚îÄ‚îÄ index.js          (26165 bytes) - –ê–ª–≥–æ—Ä–∏—Ç–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```

**–§—É–Ω–∫—Ü–∏–∏**:
1. **autotune-prep**: –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è autotune
   - –ö–∞—Ç–µ–≥–æ—Ä–∏–∑—É–µ—Ç —Å–æ–±—ã—Ç–∏—è (CSF, ISF, Basal, CR)
   - –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç deviation
   - –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ

2. **autotune**: –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
   - –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
   - –í—ã—á–∏—Å–ª—è–µ—Ç –Ω–æ–≤—ã–µ ISF, CR, Basal
   - –ü—Ä–∏–º–µ–Ω—è–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

---

### Swift –ø–æ—Ä—Ç–∞—Ü–∏—è (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û):

```
Swift/
‚îî‚îÄ‚îÄ SwiftAutotuneAlgorithms.swift (54221 bytes) - –í–°–Å –í –û–î–ù–û–ú!
```

**–ü—Ä–æ–±–ª–µ–º—ã**:
- ‚ùå –°–º–µ—à–∞–Ω—ã –¥–≤–µ —Ä–∞–∑–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- ‚ùå –û–¥–∏–Ω –æ–≥—Ä–æ–º–Ω—ã–π —Ñ–∞–π–ª
- ‚ùå –°–ª–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
- ‚ùå –ù–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—É

---

## ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

### –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –¢–†–ò —Ñ–∞–π–ª–∞:

```
Swift/
‚îú‚îÄ‚îÄ SwiftAutotunePrepAlgorithms.swift  - autotune-prep
‚îÇ   ‚îú‚îÄ‚îÄ categorize()                   - –∏–∑ categorize.js
‚îÇ   ‚îú‚îÄ‚îÄ calculateDosed()               - –∏–∑ dosed.js
‚îÇ   ‚îî‚îÄ‚îÄ prepareAutotuneData()          - –∏–∑ index.js
‚îÇ
‚îú‚îÄ‚îÄ SwiftAutotuneCoreAlgorithms.swift  - autotune
‚îÇ   ‚îî‚îÄ‚îÄ autotune()                     - –∏–∑ index.js
‚îÇ
‚îî‚îÄ‚îÄ SwiftAutotuneShared.swift          - –æ–±—â–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
    ‚îú‚îÄ‚îÄ AutotuneInputs
    ‚îú‚îÄ‚îÄ AutotunePreppedData
    ‚îî‚îÄ‚îÄ AutotuneResult
```

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### –í–∞—Ä–∏–∞–Ω—Ç 1: –†–ê–ó–î–ï–õ–ò–¢–¨ –ù–ê 3 –§–ê–ô–õ–ê (–ü–†–ê–í–ò–õ–¨–ù–û) ‚úÖ

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ oref0
- ‚úÖ –õ–µ–≥–∫–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å
- ‚úÖ –õ–µ–≥–∫–æ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Å –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–º
- ‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏**:
- ‚è≥ –¢—Ä–µ–±—É–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –û–°–¢–ê–í–ò–¢–¨ –ö–ê–ö –ï–°–¢–¨ (–ù–ï –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø) ‚ùå

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏**:
- ‚ùå –ù–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—É
- ‚ùå –°–ª–æ–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å
- ‚ùå –û–¥–∏–Ω –æ–≥—Ä–æ–º–Ω—ã–π —Ñ–∞–π–ª
- ‚ùå –ù–∞—Ä—É—à–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

---

## üìã –ü–õ–ê–ù –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ê

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å SwiftAutotunePrepAlgorithms.swift

–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∏–∑ SwiftAutotuneAlgorithms.swift:
- `categorizeGlucoseData()` - –∏–∑ categorize.js
- `calculateDosedInsulin()` - –∏–∑ dosed.js
- `prepareAutotuneData()` - –∏–∑ index.js

### –®–∞–≥ 2: –°–æ–∑–¥–∞—Ç—å SwiftAutotuneCoreAlgorithms.swift

–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∏–∑ SwiftAutotuneAlgorithms.swift:
- `autotune()` - –∏–∑ autotune/index.js
- `calculateNewISF()`
- `calculateNewCR()`
- `calculateNewBasal()`

### –®–∞–≥ 3: –°–æ–∑–¥–∞—Ç—å SwiftAutotuneShared.swift

–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –æ–±—â–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
- `AutotuneInputs`
- `AutotunePreppedData`
- `AutotuneResult`
- `AutotuneGlucoseEntry`
- –ò —Ç.–¥.

### –®–∞–≥ 4: –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–π —Ñ–∞–π–ª

- –£–¥–∞–ª–∏—Ç—å `SwiftAutotuneAlgorithms.swift`
- –û–±–Ω–æ–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã

---

## üéØ –í–´–í–û–î

**–¢–ï–ö–£–©–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ù–ï–ü–†–ê–í–ò–õ–¨–ù–ê–Ø!**

–û–¥–∏–Ω —Ñ–∞–π–ª –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –î–í–ê —Ä–∞–∑–Ω—ã—Ö –º–æ–¥—É–ª—è:
- autotune-prep (–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö)
- autotune (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)

**–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø**: –†–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ 3 —Ñ–∞–π–ª–∞ –∫–∞–∫ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ!

**–ù–û**: –≠—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã –∞–ª–≥–æ—Ä–∏—Ç–º–∞ determine-basal!

**–ü–†–ò–û–†–ò–¢–ï–¢**: üü° –°–†–ï–î–ù–ò–ô (–Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º)

---

## üìä –°–¢–ê–¢–£–°

**–û—Å–Ω–æ–≤–Ω–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º (determine-basal)**: ‚úÖ –ì–û–¢–û–í!  
**Autotune –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: ‚ö†Ô∏è –ù–ï–ü–†–ê–í–ò–õ–¨–ù–ê–Ø (–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç)

**–ú–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å** –∏–ª–∏ **—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –ø–æ–∑–∂–µ**.

---

**–ê–≤—Ç–æ—Ä**: AI Assistant  
**–î–∞—Ç–∞**: 2025-10-07  
**–í–∞–∂–Ω–æ—Å—Ç—å**: üü° –°–†–ï–î–ù–Ø–Ø (–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –Ω–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)
